// Package: jquery.themeselect v1.0.2 (built 2017-10-07 17:20:48)
// Copyright: (C) 2017 Michael Wright <mjw@methodanalysis.com>
// License: MIT

"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){function r(t,r){if(void 0!==r.css){for(var s="string"==typeof r.css?[r.css]:r.css,o=0;o<s.length;o++)e('link[href="'+s[o]+'"').remove();t.trigger("load_theme",[r])}}function s(t,r){if(void 0!==r.css){for(var s="string"==typeof r.css?[r.css]:r.css,o=0;o<s.length;o++)e("head").append(e('<link href="'+s[o]+'" rel="stylesheet">'));t.trigger("unload_theme",[r])}}e.fn.themeselect=function(t){var r=arguments;if("string"==typeof t){if(t in o)return this.each(function(){var s=jQuery.data(this,"jquery.themeselect"),n=e(this);return r[0]=s,o[t].apply(n,r)});throw'jquery.themeselect has no method "'+t+'"'}if("object"===(void 0===t?"undefined":_typeof(t)))return this.each(function(){var r={},s=e(this);return jQuery.data(this,"jquery.themeselect",r),o.constructor.apply(s,[r,t])});throw"jquery.themeselect requires a string (method) or object (constructor) first parameter"};var o={constructor:function(e,r){var s=this;if(r=jQuery.extend({},r),this.addClass("themeselect"),e.simple=!1,void 0!==r.themes&&r.themes.length>0&&void 0===r.subs)for(var o=0;o<r.themes.length;o++)void 0===r.themes[o].backgrounds&&void 0===r.themes[o].foregrounds&&(r.themes[o].backgrounds=["#ffffff"],r.themes[o].foregrounds=["#000000"],e.simple=!0);var n=new t(r);return e.tm=n,void 0!==r.selected&&this.themeselect("select",r.selected),this.themeselect("redraw"),this.change(function(){s.themeselect("select",s.val())}),this},add_theme:function(e,t){return e.tm.add_theme(t),this.themeselect("redraw"),this},add_sub:function(e,t){if(this.simple)throw new Error("no subs permitted in simple mode");return e.tm.add_sub(t),this.themeselect("redraw"),this},get_themes:function(e,t){return e.tm.get_themes(t)},select:function(e,t,o){if(void 0===t)throw new Error("select requires a theme name");if(t===e.root_theme)return this;void 0===o&&(o={});var n=e.tm.select(t);if(void 0!==e.theme_set)for(var i=e.theme_set,h=0;h<i.length;h++)o.no_update||r(this,i[h]);for(var m=0;m<n.length;m++)o.no_update||s(this,n[m]);return o.no_update||this.trigger("theme_selection",[t,n,e.root_theme,e.theme_set]),e.root_theme=t,e.theme_set=n,this},redraw:function(t){var r=t.tm.get_themes();t.tm.get_subs();this.empty();for(var s=0;s<r.length;s++){var o=r[s],n=e('<option value="'+o.name+'">'+o.name+"</option>");o.name===t.root_theme&&n.prop({selected:!0}),this.append(n)}}}}(jQuery,themematch);